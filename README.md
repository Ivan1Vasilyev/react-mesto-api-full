# react-mesto-api-full

# Проект: Место-Реакт

**Фронтенд**

- Фронтенд собран на React.
- Реализован следующий функционал:
  - при загрузке сраницы с сервера загружаются данные пользователя, его аватар и все карточки, ранее загруженные на сервер;
  - открываются модальные окна редактирования данных пользователя, смены аватара, добавления новой картинки и просмотра картинки карточки;
  - закрытие модальных окон работает как на кнопку закрытия, так и при клике на оверлэй или нажатии клавиши Escape;
  - кнопка удаления карточки открывает модальное окно, в котором пользователю предлагается подтвердить удаление;
  - реализована ux-обработка при обращении к серверу: пользователь видит меняющийся текст кнопки;
  - реализована валидация форм:
    - пользователь может отправить данные, только если все обязательные поля формы заполнены верно, необязательные поля должны быть либо заполнены валидными данными, либо пропущены;
    - пользователь видит под полем ввода текст ошибки, который обновляется в с каждым изменением в поле ввода;
    - во всех формах кнопка отправки данных изначально заблокирована.
  - реализована регистрация и авторизация пользователя. При регистрации пользователь может по желанию заполнить поля с данными о себе и ссылкой на аватар. Эти данные можно отредактировать позже на главной странице.

**Технологии**

- Адаптивность и отзывчивость страницы реализована средствами Flex-box, Grid-layout и запросами @media.
- Карточки и данные пользователя загружаются на главную страницу только после авторизации пользователя.
- Проект сделан на JavaScript-библиотеке React.
- Для реализации был сделан выбор в пользу функциональных компонентов.
- Навигация пользователя между основной страницей, страницей авторизации и регистрации реализована с помощью библиотеки "React-Router-DOM".
- Обработка и валидация форм выполнена с помощью библиотек Formik и Yup.

**Бэкенд**

- Бэкенд собран на NodeJS.
- Данные хранятся на сервере в базе данных Express.
- Для взаимодействия с сервером используется библиотека Mongoose.
- Роутинг:

  - неавторизованным пользователям закрыт доступ к данным и действиям, предназначенным только авторизованному пользователю;
  - авторизация пользователя осществляется отправкой браузеру файла cookie, срок действия которого истекает через 7 дней.
  - выход из профиля обновляет файл cookie на новый с нулевым сроком действия и отправляет пользователя на страницу авторизации.

- Валидация:

  - входящие данные валидируются как в модели сервера, так и перед серверной обработкой с помощью библиотеки celebrate и Joi;
  - валидируется не только пользовательский ввод, но и такие форматы как URL и email.
  - если в роуте есть такие данные, как, например, id, то такие данные тоже валидируются.

- Безопасность:

  - пароль хранится в базе данных в зашифрованном виде. Работу с паролями осуществляет библиотека bcryptjs;
  - проект защищён от XSS-атаки через входящие данные библиотекой escape-html;
  - файлы cookie недоступны через javascript установкой флага httpOnly: true, и от CSRF-запроса флагом samesite: lax;
  - секретный ключ для генерации токена сгенерирован модулем crypto и хранится в переменных окружения;
  - заголовки безопасности автоматически выставляет модуль helmet;
  - мидлвер express-rate-limit ограничивает количество обращений на сервер от одного ip до 300 за 15 минут;

- [Ссылка на проект](https://moovies.nomoredomains.work)
