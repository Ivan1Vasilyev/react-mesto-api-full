# react-mesto-api-full

# Проект: Место-Реакт

**Фронтенд**

- Фронтенд собран на React.
- Реализован следующий функционал:
  - при загрузке сраницы с сервера загружаются данные пользователя, его аватар и все карточки, ранее загруженные на сервер;
  - открываются модальные окна редактирования данных пользователя, смены аватара, добавления новой картинки и просмотра картинки карточки;
  - закрытие модальных окон работает как на кнопку закрытия, так и при клике на оверлэй или нажатии клавиши Escape;
  - кнопка удаления карточки открывает модальное окно, в котором пользователю предлагается подтвердить удаление;
  - реализована ux-обработка при обращении к серверу: пользователь видит менющийся текст кнопки;
  - реализована валидация форм:
    - пользователь может ввести данные, только если все поля формы заполнены верно;
    - пользователь видит под полем ввода браузерный текст ошибки, который обновляется в с каждым изменением в поле ввода;
    - при открытии модального окна кнопка отправки данных изначально заблокирована, кроме кнопки подтверждения удаления карточки.
  - реализована регистрация и авторизация пользователя:
    - пользователь должен сначала пройти регистрацию, затем авторизацию, в обоих случаях он вводит корректный email и пароль;
    - валидация корректного email происходит как при наборе текста, так и на стороне сервера, во втором случае пользователь увидит сообщение об ошибке во всплывшем окне;

**Технологии**

- Адаптивность и отзывчивость страницы реализована средствами Flex-box, Grid-layout и запросами @media.
- При загрузке страницы картинки, загруженные с сервера, добавляются в альбом с помощью javascript.
- Проект сделан на JavaScript-библиотеке React.
- Для реализации был сделан выбор в пользу функциональных компонентов.
- Навигация пользователя между основной страницей, страницей авторизации и регистрации реализована с помощью библиотеки "React-Router-DOM".

**Бэкенд**

- Бэкенд собран на NodeJS.
- Данные хранятся на сервере в базе данных Express.
- Для взаимодействия с сервером используется библиотека Mongoose.
- Роутинг:
  - сервер не отдаёт данные неавторизованным пользователям;
  - авторизация пользователя осществляется отправкой браузеру файла cookie, срок действия которого истекает через 7 дней.
  - выход из профиля обновляет файл cookie на новый с нулевым сроком действия и отправляет пользователя на страницу авторизации.
- Валидация:
  - входящие данные валидируются как в модели сервера, так и перед серверной обработкой с помощью библиотеки celebrate и Joi;
  - валидируется не только пользовательский ввод, но и такие форматы как URL и email.
  - если в роуте есть такие данные, как, например, id, то такие данные тоже валидируются.
- Безопасность:

  - пароль хранится в базе данных в зашифрованном виде. Работу с паролями осуществляет библиотека bcryptjs;
  - проект защищён от XSS-атаки через входящие данные библиотекой escape-html;
  - файлы cookie недоступны через javascript установкой флага httpOnly: true, и от CSRF-запроса флагом samesite: lax;
  - секретный ключ для генерации токена сгенерирован модулем crypto и хранится в переменных окружения;
  - заголовки безопасности автоматически выставляет модуль helmet;
  - мидлвер express-rate-limit ограничивает количество обращений на сервер от одного ip до 100 за 15 минут;

- [Ссылка на проект](https://shaloban.students.nomoredomains.club/)
